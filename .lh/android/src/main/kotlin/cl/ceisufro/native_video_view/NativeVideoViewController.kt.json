{
    "sourceFile": "android/src/main/kotlin/cl/ceisufro/native_video_view/NativeVideoViewController.kt",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 79,
            "patches": [
                {
                    "date": 1657236089634,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1657236653308,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -154,9 +154,9 @@\n         videoView?.setOnPreparedListener(this)\n         videoView?.setOnErrorListener(this)\n         videoView?.setOnCompletionListener(this)\n         videoView?.setOnInfoListener(new MediaPlayer.OnInfoListener() {\n-            Override fun onInfo(MediaPlayer mp, int what, int extra) {\n+            override fun onInfo(MediaPlayer mp, int what, int extra) {\n                 var tamanio = mp.getTrackInfo().length\n                 Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n                 return true\n             }\n"
                },
                {
                    "date": 1657236979762,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -153,9 +153,9 @@\n         videoView = constraintLayout.findViewById(R.id.native_video_view)\n         videoView?.setOnPreparedListener(this)\n         videoView?.setOnErrorListener(this)\n         videoView?.setOnCompletionListener(this)\n-        videoView?.setOnInfoListener(new MediaPlayer.OnInfoListener() {\n+        videoView?.setOnInfoListener(MediaPlayer.OnInfoListener() {\n             override fun onInfo(MediaPlayer mp, int what, int extra) {\n                 var tamanio = mp.getTrackInfo().length\n                 Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n                 return true\n"
                },
                {
                    "date": 1657237164604,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -154,9 +154,9 @@\n         videoView?.setOnPreparedListener(this)\n         videoView?.setOnErrorListener(this)\n         videoView?.setOnCompletionListener(this)\n         videoView?.setOnInfoListener(MediaPlayer.OnInfoListener() {\n-            override fun onInfo(MediaPlayer mp, int what, int extra) {\n+            override fun onInfo(mp:MediaPlayer, what:int, extra:int)  {\n                 var tamanio = mp.getTrackInfo().length\n                 Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n                 return true\n             }\n"
                },
                {
                    "date": 1657237234602,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -154,9 +154,9 @@\n         videoView?.setOnPreparedListener(this)\n         videoView?.setOnErrorListener(this)\n         videoView?.setOnCompletionListener(this)\n         videoView?.setOnInfoListener(MediaPlayer.OnInfoListener() {\n-            override fun onInfo(mp:MediaPlayer, what:int, extra:int)  {\n+            override fun onInfo(mp: MediaPlayer?, what: int, extra: int)  {\n                 var tamanio = mp.getTrackInfo().length\n                 Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n                 return true\n             }\n"
                },
                {
                    "date": 1657237357995,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -154,9 +154,9 @@\n         videoView?.setOnPreparedListener(this)\n         videoView?.setOnErrorListener(this)\n         videoView?.setOnCompletionListener(this)\n         videoView?.setOnInfoListener(MediaPlayer.OnInfoListener() {\n-            override fun onInfo(mp: MediaPlayer?, what: int, extra: int)  {\n+            override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int)  {\n                 var tamanio = mp.getTrackInfo().length\n                 Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n                 return true\n             }\n"
                },
                {
                    "date": 1657238118553,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,8 +28,9 @@\n     MethodChannel.MethodCallHandler,\n     PlatformView,\n     MediaPlayer.OnPreparedListener,\n     MediaPlayer.OnErrorListener,\n+    MediaPlayer.OnInfoListener,\n     MediaPlayer.OnCompletionListener {\n     private val methodChannel: MethodChannel =\n         MethodChannel(binaryMessenger, \"native_video_view_$id\")\n     private val lifeCycleHashcode: Int\n@@ -153,15 +154,9 @@\n         videoView = constraintLayout.findViewById(R.id.native_video_view)\n         videoView?.setOnPreparedListener(this)\n         videoView?.setOnErrorListener(this)\n         videoView?.setOnCompletionListener(this)\n-        videoView?.setOnInfoListener(MediaPlayer.OnInfoListener() {\n-            override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int)  {\n-                var tamanio = mp.getTrackInfo().length\n-                Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n-                return true\n-            }\n-        });\n+        videoView?.setOnInfoListener(this)\n         videoView?.setZOrderOnTop(true)\n         if (requestAudioFocus && Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {\n             videoView?.setAudioFocusRequest(AudioManager.AUDIOFOCUS_GAIN_TRANSIENT_EXCLUSIVE)\n         }\n@@ -223,8 +218,14 @@\n         arguments[\"extra\"] = extra\n         methodChannel.invokeMethod(\"player#onError\", arguments)\n         return true\n     }\n+    \n+    override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n+                var tamanio = mp.getTrackInfo().length\n+                Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n+                return true\n+    }\n \n     private fun configureVolume() {\n         if (mediaPlayer != null) {\n             if (mute) {\n"
                },
                {
                    "date": 1657238124192,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -220,11 +220,11 @@\n         return true\n     }\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n-                var tamanio = mp.getTrackInfo().length\n-                Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n-                return true\n+        var tamanio = mp.getTrackInfo().length\n+        Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n+        return true\n     }\n \n     private fun configureVolume() {\n         if (mediaPlayer != null) {\n"
                },
                {
                    "date": 1657238210866,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -220,9 +220,9 @@\n         return true\n     }\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n-        var tamanio = mp.getTrackInfo().length\n+        var tamanio = mp?.getTrackInfo().length\n         Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n         return true\n     }\n \n"
                },
                {
                    "date": 1657238217400,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -220,9 +220,9 @@\n         return true\n     }\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n-        var tamanio = mp?.getTrackInfo().length\n+        var tamanio = mp?.getTrackInfo()?.length\n         Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n         return true\n     }\n \n"
                },
                {
                    "date": 1657238445827,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -220,9 +220,9 @@\n         return true\n     }\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n-        var tamanio = mp?.getTrackInfo()?.length\n+        var tamanio = mp?.getTrackInfo().length\n         Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n         return true\n     }\n \n"
                },
                {
                    "date": 1657238510408,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -220,9 +220,9 @@\n         return true\n     }\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n-        var tamanio = mp?.getTrackInfo().length\n+        var tamanio = mp?.getTrackInfo().length!\n         Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n         return true\n     }\n \n"
                },
                {
                    "date": 1657238646799,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -220,10 +220,9 @@\n         return true\n     }\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n-        var tamanio = mp?.getTrackInfo().length!\n-        Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n+        var tamanio = mp?.getTrackInfo()\n         return true\n     }\n \n     private fun configureVolume() {\n"
                },
                {
                    "date": 1657238965322,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -220,9 +220,10 @@\n         return true\n     }\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n-        var tamanio = mp?.getTrackInfo()\n+        var tamanio = mp?.getTrackInfo().size\n+        Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n         return true\n     }\n \n     private fun configureVolume() {\n"
                },
                {
                    "date": 1657239024005,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -220,9 +220,9 @@\n         return true\n     }\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n-        var tamanio = mp?.getTrackInfo().size\n+        var tamanio = mp?.getTrackInfo()?.size!!\n         Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n         return true\n     }\n \n"
                },
                {
                    "date": 1657239030942,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -220,9 +220,9 @@\n         return true\n     }\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n-        var tamanio = mp?.getTrackInfo()?.size!!\n+        var tamanio = mp?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n         return true\n     }\n \n"
                },
                {
                    "date": 1657239601180,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -221,9 +221,16 @@\n     }\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n         var tamanio = mp?.getTrackInfo()?.size\n-        Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n+        Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n+        for (var item in mp?.getTrackInfo()) {\n+            // you can switch out the language comparison logic to whatever works for you\n+            print(item)\n+            if (item.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n+                && item.getLanguage().equals(Locale.getDefault().getISO3Language()) {\n+            }\n+         }\n         return true\n     }\n \n     private fun configureVolume() {\n"
                },
                {
                    "date": 1657239609676,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -227,8 +227,9 @@\n             // you can switch out the language comparison logic to whatever works for you\n             print(item)\n             if (item.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && item.getLanguage().equals(Locale.getDefault().getISO3Language()) {\n+                    print('audio')\n             }\n          }\n         return true\n     }\n"
                },
                {
                    "date": 1657239799321,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -226,10 +226,10 @@\n         for (var item in mp?.getTrackInfo()) {\n             // you can switch out the language comparison logic to whatever works for you\n             print(item)\n             if (item.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n-                && item.getLanguage().equals(Locale.getDefault().getISO3Language()) {\n-                    print('audio')\n+                && item.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n+                    print(\"audio\")\n             }\n          }\n         return true\n     }\n"
                },
                {
                    "date": 1657239895880,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -222,9 +222,9 @@\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n         var tamanio = mp?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n-        for (var item in mp?.getTrackInfo()) {\n+        for (vaMediaPlayer.TrackInfor item in mp?.getTrackInfo()) {\n             // you can switch out the language comparison logic to whatever works for you\n             print(item)\n             if (item.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && item.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n"
                },
                {
                    "date": 1657239921892,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -222,9 +222,10 @@\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n         var tamanio = mp?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n-        for (vaMediaPlayer.TrackInfor item in mp?.getTrackInfo()) {\n+        var trackInfo = mp?.getTrackInfo()\n+        for (vaMediaPlayer.TrackInfor item in trackInfo) {\n             // you can switch out the language comparison logic to whatever works for you\n             print(item)\n             if (item.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && item.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n"
                },
                {
                    "date": 1657239994183,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -223,9 +223,9 @@\n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n         var tamanio = mp?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n         var trackInfo = mp?.getTrackInfo()\n-        for (vaMediaPlayer.TrackInfor item in trackInfo) {\n+        for (MediaPlayer.TrackInfor item in trackInfo) {\n             // you can switch out the language comparison logic to whatever works for you\n             print(item)\n             if (item.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && item.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n"
                },
                {
                    "date": 1657240000869,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -223,9 +223,9 @@\n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n         var tamanio = mp?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n         var trackInfo = mp?.getTrackInfo()\n-        for (MediaPlayer.TrackInfor item in trackInfo) {\n+        for (MediaPlayer.TrackInfo item in trackInfo) {\n             // you can switch out the language comparison logic to whatever works for you\n             print(item)\n             if (item.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && item.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n"
                },
                {
                    "date": 1657240135392,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -223,9 +223,9 @@\n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n         var tamanio = mp?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n         var trackInfo = mp?.getTrackInfo()\n-        for (MediaPlayer.TrackInfo item in trackInfo) {\n+        for (item in trackInfo) {\n             // you can switch out the language comparison logic to whatever works for you\n             print(item)\n             if (item.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && item.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n"
                },
                {
                    "date": 1657240191001,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -222,9 +222,9 @@\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n         var tamanio = mp?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n-        var trackInfo = mp?.getTrackInfo()\n+        var trackInfo = mp?.getTrackInfo()!\n         for (item in trackInfo) {\n             // you can switch out the language comparison logic to whatever works for you\n             print(item)\n             if (item.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n"
                },
                {
                    "date": 1657240327863,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -222,9 +222,9 @@\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n         var tamanio = mp?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n-        var trackInfo = mp?.getTrackInfo()!\n+        var trackInfo = mp?.getTrackInfo()!!\n         for (item in trackInfo) {\n             // you can switch out the language comparison logic to whatever works for you\n             print(item)\n             if (item.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n"
                },
                {
                    "date": 1657240577653,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -224,10 +224,10 @@\n         var tamanio = mp?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n         var trackInfo = mp?.getTrackInfo()!!\n         for (item in trackInfo) {\n-            // you can switch out the language comparison logic to whatever works for you\n-            print(item)\n+            print(\"item\")\n+            print(item.getTrackType())\n             if (item.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && item.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     print(\"audio\")\n             }\n"
                },
                {
                    "date": 1657241140646,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -222,14 +222,13 @@\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n         var tamanio = mp?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n-        var trackInfo = mp?.getTrackInfo()!!\n-        for (item in trackInfo) {\n-            print(\"item\")\n-            print(item.getTrackType())\n-            if (item.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n-                && item.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n+        mp?.getTrackInfo()?.forEach {\n+            print(\"it\")\n+            print(it.getTrackType())\n+            if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n+                && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     print(\"audio\")\n             }\n          }\n         return true\n"
                },
                {
                    "date": 1657241393033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -222,11 +222,14 @@\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n         var tamanio = mp?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n+        println(\"${mp?.getTrackInfo()::class.simpleName}\")\n+        Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n         mp?.getTrackInfo()?.forEach {\n             print(\"it\")\n             print(it.getTrackType())\n+            print(it.getLanguage())\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     print(\"audio\")\n             }\n"
                },
                {
                    "date": 1657241592982,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -222,11 +222,12 @@\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n         var tamanio = mp?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n-        println(\"${mp?.getTrackInfo()::class.simpleName}\")\n+        var trackInfo = mp?.getTrackInfo()\n+        println(\"$trackInfo.size\")\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n-        mp?.getTrackInfo()?.forEach {\n+        for(it in trackInfo){\n             print(\"it\")\n             print(it.getTrackType())\n             print(it.getLanguage())\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n"
                },
                {
                    "date": 1657241815909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,9 @@\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n         var trackInfo = mp?.getTrackInfo()\n         println(\"$trackInfo.size\")\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n-        for(it in trackInfo){\n+        for(it in trackInfo?.orEmpt()){\n             print(\"it\")\n             print(it.getTrackType())\n             print(it.getLanguage())\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n"
                },
                {
                    "date": 1657241825441,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,9 @@\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n         var trackInfo = mp?.getTrackInfo()\n         println(\"$trackInfo.size\")\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n-        for(it in trackInfo?.orEmpt()){\n+        for(it in trackInfo?.orEmpty()){\n             print(\"it\")\n             print(it.getTrackType())\n             print(it.getLanguage())\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n"
                },
                {
                    "date": 1657241946356,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,9 +225,9 @@\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n         var trackInfo = mp?.getTrackInfo()\n         println(\"$trackInfo.size\")\n         Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n-        for(it in trackInfo?.orEmpty()){\n+        for(it in trackInfo.orEmpty()){\n             print(\"it\")\n             print(it.getTrackType())\n             print(it.getLanguage())\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n"
                },
                {
                    "date": 1657243564946,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -221,19 +221,18 @@\n     }\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n         var tamanio = mp?.getTrackInfo()?.size\n-        Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n+        Log.d(\"NVV#setOnInfoListener\", \" Track kInfo $tamanio\")\n         var trackInfo = mp?.getTrackInfo()\n-        println(\"$trackInfo.size\")\n-        Log.d(\"NVV#setOnInfoListener\", \" Trac kInfo $tamanio\")\n+        Log.d(\"NVV#setOnInfoListener\", \" Track kInfo ${trackInfo.size}\")\n         for(it in trackInfo.orEmpty()){\n-            print(\"it\")\n-            print(it.getTrackType())\n-            print(it.getLanguage())\n+            Log.d(\"NVV#setOnInfoListener\", \" it \")\n+            Log.d(\"NVV#setOnInfoListener\", it.getTrackType())\n+            Log.d(\"NVV#setOnInfoListener\", it.getLanguage())\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n-                    print(\"audio\")\n+                    Log.d(\"NVV#setOnInfoListener\", \"audio\")\n             }\n          }\n         return true\n     }\n"
                },
                {
                    "date": 1657243860567,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -221,11 +221,11 @@\n     }\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n         var tamanio = mp?.getTrackInfo()?.size\n-        Log.d(\"NVV#setOnInfoListener\", \" Track kInfo $tamanio\")\n+        Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mp?.getTrackInfo()\n-        Log.d(\"NVV#setOnInfoListener\", \" Track kInfo ${trackInfo.size}\")\n+        Log.d(\"NVV#setOnInfoListener\", \" Track Info ${trackInfo.size}\")\n         for(it in trackInfo.orEmpty()){\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n             Log.d(\"NVV#setOnInfoListener\", it.getTrackType())\n             Log.d(\"NVV#setOnInfoListener\", it.getLanguage())\n"
                },
                {
                    "date": 1657245334722,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -223,10 +223,10 @@\n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n         var tamanio = mp?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mp?.getTrackInfo()\n-        Log.d(\"NVV#setOnInfoListener\", \" Track Info ${trackInfo.size}\")\n-        for(it in trackInfo.orEmpty()){\n+        Log.d(\"NVV#setOnInfoListener\", \" Track Info ${trackInfo?.size}\")\n+        trackInfo?.forEach {\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n             Log.d(\"NVV#setOnInfoListener\", it.getTrackType())\n             Log.d(\"NVV#setOnInfoListener\", it.getLanguage())\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n"
                },
                {
                    "date": 1657245440967,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -226,10 +226,10 @@\n         var trackInfo = mp?.getTrackInfo()\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info ${trackInfo?.size}\")\n         trackInfo?.forEach {\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n-            Log.d(\"NVV#setOnInfoListener\", it.getTrackType())\n-            Log.d(\"NVV#setOnInfoListener\", it.getLanguage())\n+            Log.d(\"NVV#setOnInfoListener ${it.getTrackType()} \")\n+            Log.d(\"NVV#setOnInfoListener ${it.getLanguage()} \")\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n             }\n"
                },
                {
                    "date": 1657245514293,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -226,10 +226,10 @@\n         var trackInfo = mp?.getTrackInfo()\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info ${trackInfo?.size}\")\n         trackInfo?.forEach {\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n-            Log.d(\"NVV#setOnInfoListener ${it.getTrackType()} \")\n-            Log.d(\"NVV#setOnInfoListener ${it.getLanguage()} \")\n+            Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n+            Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n             }\n"
                },
                {
                    "date": 1657292378108,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -233,8 +233,9 @@\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n             }\n          }\n+        mp.selectTrack(2);\n         return true\n     }\n \n     private fun configureVolume() {\n"
                },
                {
                    "date": 1657292474653,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -233,9 +233,9 @@\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n             }\n          }\n-        mp.selectTrack(2);\n+        mp.selectTrack(2)\n         return true\n     }\n \n     private fun configureVolume() {\n"
                },
                {
                    "date": 1657292481010,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -233,9 +233,9 @@\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n             }\n          }\n-        mp.selectTrack(2)\n+        mp?.selectTrack(2)\n         return true\n     }\n \n     private fun configureVolume() {\n"
                },
                {
                    "date": 1657292648244,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -233,9 +233,9 @@\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n             }\n          }\n-        mp?.selectTrack(2)\n+        mp?.selectTrack(3)\n         return true\n     }\n \n     private fun configureVolume() {\n"
                },
                {
                    "date": 1657293465128,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -233,9 +233,9 @@\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n             }\n          }\n-        mp?.selectTrack(3)\n+        mp?.selectTrack(1)\n         return true\n     }\n \n     private fun configureVolume() {\n"
                },
                {
                    "date": 1657309775650,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -224,18 +224,22 @@\n         var tamanio = mp?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mp?.getTrackInfo()\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info ${trackInfo?.size}\")\n+\n+        val arguments = HashMap<String, Any>()\n+        int counter = 0;\n         trackInfo?.forEach {\n+            counter++;\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n+                    arguments[\"it.${counter}\"] = it\n             }\n          }\n-        mp?.selectTrack(1)\n         return true\n     }\n \n     private fun configureVolume() {\n@@ -265,7 +269,24 @@\n             arguments[\"width\"] = mediaPlayer.videoWidth\n             arguments[\"duration\"] = mediaPlayer.duration\n         }\n         playerState = PlayerState.PREPARED\n+        \n+        var tamanio = mediaPlayer?.getTrackInfo()?.size\n+        Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n+        var trackInfo = mediaPlayer?.getTrackInfo()\n+        val arguments = HashMap<String, Any>()\n+        int counter = 0;\n+        trackInfo?.forEach {\n+            counter++;\n+            Log.d(\"NVV#setOnInfoListener\", \" it \")\n+            Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n+            Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n+            if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n+                && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n+                    Log.d(\"NVV#setOnInfoListener\", \"audio\")\n+                    arguments[\"it.${counter}\"] = it\n+            }\n+         }\n         methodChannel.invokeMethod(\"player#onPrepared\", arguments)\n     }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1657310235940,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -226,11 +226,11 @@\n         var trackInfo = mp?.getTrackInfo()\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info ${trackInfo?.size}\")\n \n         val arguments = HashMap<String, Any>()\n-        int counter = 0;\n+        int counter = 0\n         trackInfo?.forEach {\n-            counter++;\n+            counter++\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n"
                },
                {
                    "date": 1657310522366,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -227,19 +227,23 @@\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info ${trackInfo?.size}\")\n \n         val arguments = HashMap<String, Any>()\n         int counter = 0\n-        trackInfo?.forEach {\n-            counter++\n+        var i = 0\n+        while (i < tamanio) {\n+            println(i)\n+            var it = mp?.getTrackInfo()[i]\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n                     arguments[\"it.${counter}\"] = it\n             }\n-         }\n+            i++\n+            \n+        } \n         return true\n     }\n \n     private fun configureVolume() {\n"
                },
                {
                    "date": 1657310550780,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -277,20 +277,24 @@\n         \n         var tamanio = mediaPlayer?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mediaPlayer?.getTrackInfo()\n-        val arguments = HashMap<String, Any>()\n-        int counter = 0;\n-        trackInfo?.forEach {\n-            counter++;\n+        \n+        int counter = 0\n+        var i = 0\n+        while (i < tamanio) {\n+            println(i)\n+            var it = mp?.getTrackInfo()[i]\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n                     arguments[\"it.${counter}\"] = it\n             }\n-         }\n+            i++\n+            \n+        } \n         methodChannel.invokeMethod(\"player#onPrepared\", arguments)\n     }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1657310623493,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -226,9 +226,8 @@\n         var trackInfo = mp?.getTrackInfo()\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info ${trackInfo?.size}\")\n \n         val arguments = HashMap<String, Any>()\n-        int counter = 0\n         var i = 0\n         while (i < tamanio) {\n             println(i)\n             var it = mp?.getTrackInfo()[i]\n@@ -278,9 +277,8 @@\n         var tamanio = mediaPlayer?.getTrackInfo()?.size\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mediaPlayer?.getTrackInfo()\n         \n-        int counter = 0\n         var i = 0\n         while (i < tamanio) {\n             println(i)\n             var it = mp?.getTrackInfo()[i]\n"
                },
                {
                    "date": 1657311147175,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -220,9 +220,9 @@\n         return true\n     }\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n-        var tamanio = mp?.getTrackInfo()?.size\n+        var tamanio = mp?.getTrackInfo()?.size!\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mp?.getTrackInfo()\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info ${trackInfo?.size}\")\n \n"
                },
                {
                    "date": 1657311874739,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -220,9 +220,9 @@\n         return true\n     }\n     \n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n-        var tamanio = mp?.getTrackInfo()?.size!\n+        var tamanio = mp?.getTrackInfo()?.size!!\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mp?.getTrackInfo()\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info ${trackInfo?.size}\")\n \n"
                },
                {
                    "date": 1657311923367,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -236,9 +236,9 @@\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n-                    arguments[\"it.${counter}\"] = it\n+                    arguments[\"it.${i}\"] = it\n             }\n             i++\n             \n         } \n"
                },
                {
                    "date": 1657311933580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -287,9 +287,9 @@\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n-                    arguments[\"it.${counter}\"] = it\n+                    arguments[\"it.${i}\"] = it\n             }\n             i++\n             \n         } \n"
                },
                {
                    "date": 1657311996644,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -273,9 +273,9 @@\n             arguments[\"duration\"] = mediaPlayer.duration\n         }\n         playerState = PlayerState.PREPARED\n         \n-        var tamanio = mediaPlayer?.getTrackInfo()?.size\n+        var tamanio = mediaPlayer?.getTrackInfo()?.size!!\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mediaPlayer?.getTrackInfo()\n         \n         var i = 0\n"
                },
                {
                    "date": 1657312274879,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -280,9 +280,9 @@\n         \n         var i = 0\n         while (i < tamanio) {\n             println(i)\n-            var it = mp?.getTrackInfo()[i]\n+            var it = mediaPlayer?.getTrackInfo()[i]\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n"
                },
                {
                    "date": 1657312487630,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -287,9 +287,9 @@\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n-                    arguments[\"it.${i}\"] = it\n+                    arguments[\"it.${i}\"] = \"${it.getLanguage()}\"\n             }\n             i++\n             \n         } \n"
                },
                {
                    "date": 1657312940578,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -287,9 +287,9 @@\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n                 && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n-                    arguments[\"it.${i}\"] = \"${it.getLanguage()}\"\n+                    arguments[\"it.${i}\"] = it.getLanguage()\n             }\n             i++\n             \n         } \n"
                },
                {
                    "date": 1657313393173,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -284,10 +284,9 @@\n             var it = mediaPlayer?.getTrackInfo()[i]\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n-            if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n-                && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n+            if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n                     arguments[\"it.${i}\"] = it.getLanguage()\n             }\n             i++\n"
                },
                {
                    "date": 1657313999995,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -223,26 +223,8 @@\n     override fun onInfo(mp: MediaPlayer?, what: Int, extra: Int): Boolean  {\n         var tamanio = mp?.getTrackInfo()?.size!!\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mp?.getTrackInfo()\n-        Log.d(\"NVV#setOnInfoListener\", \" Track Info ${trackInfo?.size}\")\n-\n-        val arguments = HashMap<String, Any>()\n-        var i = 0\n-        while (i < tamanio) {\n-            println(i)\n-            var it = mp?.getTrackInfo()[i]\n-            Log.d(\"NVV#setOnInfoListener\", \" it \")\n-            Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n-            Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n-            if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n-                && it.getLanguage().equals(Locale.getDefault().getISO3Language())) {\n-                    Log.d(\"NVV#setOnInfoListener\", \"audio\")\n-                    arguments[\"it.${i}\"] = it\n-            }\n-            i++\n-            \n-        } \n         return true\n     }\n \n     private fun configureVolume() {\n"
                },
                {
                    "date": 1657314104489,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -268,9 +268,9 @@\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n             if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO) {\n                     Log.d(\"NVV#setOnInfoListener\", \"audio\")\n-                    arguments[\"it.${i}\"] = it.getLanguage()\n+                    arguments[it.getLanguage()] = it.getLanguage()\n             }\n             i++\n             \n         } \n"
                },
                {
                    "date": 1657315289126,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -260,20 +260,15 @@\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mediaPlayer?.getTrackInfo()\n         \n         var i = 0\n-        while (i < tamanio) {\n-            println(i)\n-            var it = mediaPlayer?.getTrackInfo()[i]\n+        var result:List<String> = mediaPlayer?.getTrackInfo().map(::getLanguage)\n+        .filter { it ->\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n-            if (it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO) {\n-                    Log.d(\"NVV#setOnInfoListener\", \"audio\")\n-                    arguments[it.getLanguage()] = it.getLanguage()\n-            }\n-            i++\n-            \n-        } \n+            return it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n+        }\n+        .toSet().toList()\n         methodChannel.invokeMethod(\"player#onPrepared\", arguments)\n     }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1657315313364,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -268,7 +268,8 @@\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n             return it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n         }\n         .toSet().toList()\n+        arguments[\"languajes\"] = result\n         methodChannel.invokeMethod(\"player#onPrepared\", arguments)\n     }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1657315590516,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -260,9 +260,9 @@\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mediaPlayer?.getTrackInfo()\n         \n         var i = 0\n-        var result:List<String> = mediaPlayer?.getTrackInfo().map(::getLanguage)\n+        var result:List<String> = mediaPlayer?.getTrackInfo().map(MediaPlayer.TrackInfo ::getLanguage)\n         .filter { it ->\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n"
                },
                {
                    "date": 1657315679483,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -260,15 +260,16 @@\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mediaPlayer?.getTrackInfo()\n         \n         var i = 0\n-        var result:List<String> = mediaPlayer?.getTrackInfo().map(MediaPlayer.TrackInfo ::getLanguage)\n+        var result:List<String> = mediaPlayer?.getTrackInfo()\n         .filter { it ->\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n             return it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n         }\n+        .map(MediaPlayer.TrackInfo::getLanguage)\n         .toSet().toList()\n         arguments[\"languajes\"] = result\n         methodChannel.invokeMethod(\"player#onPrepared\", arguments)\n     }\n"
                },
                {
                    "date": 1657315798104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -265,9 +265,9 @@\n         .filter { it ->\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n-            return it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n+            return@filter it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n         }\n         .map(MediaPlayer.TrackInfo::getLanguage)\n         .toSet().toList()\n         arguments[\"languajes\"] = result\n"
                },
                {
                    "date": 1657320813162,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,8 +40,9 @@\n     private var disposed: Boolean = false\n     private var requestAudioFocus: Boolean = true\n     private var volume: Double = 1.0\n     private var mute: Boolean = false\n+    private var audio: Int = 0\n     private var mediaPlayer: MediaPlayer? = null\n     private var playerState: PlayerState = PlayerState.NOT_INITIALIZED\n \n     init {\n@@ -123,8 +124,15 @@\n                     configureVolume()\n                 }\n                 result.success(null)\n             }\n+            \"player#changeAudio\" -> {\n+                val audio: Int? = call.argument(\"audio\")\n+                if (audio != null) {\n+                    changeAudio()\n+                }\n+                result.success(null)\n+            }\n         }\n     }\n \n     override fun onCreate(owner: LifecycleOwner) {\n@@ -236,8 +244,14 @@\n             }\n         }\n     }\n \n+    private fun changeAudio() {\n+        if (mediaPlayer != null) {\n+            mediaPlayer?.selectTrack(audio)\n+        }\n+    }\n+\n     override fun onPrepared(mediaPlayer: MediaPlayer?) {\n         this.mediaPlayer = mediaPlayer\n         configureVolume()\n         if (playerState == PlayerState.PLAY_WHEN_READY) {\n"
                },
                {
                    "date": 1657322650894,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -125,8 +125,9 @@\n                 }\n                 result.success(null)\n             }\n             \"player#changeAudio\" -> {\n+                Log.d(\"NVV#NativeView\", \"player#changeAudio\")\n                 val audio: Int? = call.argument(\"audio\")\n                 if (audio != null) {\n                     changeAudio()\n                 }\n@@ -246,8 +247,9 @@\n     }\n \n     private fun changeAudio() {\n         if (mediaPlayer != null) {\n+            Log.d(\"NVV#NativeView\", \"changeAudio\")\n             mediaPlayer?.selectTrack(audio)\n         }\n     }\n \n@@ -274,17 +276,24 @@\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mediaPlayer?.getTrackInfo()\n         \n         var i = 0\n+        val nameTable = mutableMapOf<String, Int>()\n         var result:List<String> = mediaPlayer?.getTrackInfo()\n         .filter { it ->\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n             return@filter it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n         }\n-        .map(MediaPlayer.TrackInfo::getLanguage)\n         .toSet().toList()\n-        arguments[\"languajes\"] = result\n+        \n+        var i = 0;\n+        while(i < tamanio) {\n+            var it = result[i];\n+            nameTable[it.getLanguage()] = i;\n+\n+        }\n+        arguments[\"languajes\"] = nameTable\n         methodChannel.invokeMethod(\"player#onPrepared\", arguments)\n     }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1657322671321,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -247,9 +247,9 @@\n     }\n \n     private fun changeAudio() {\n         if (mediaPlayer != null) {\n-            Log.d(\"NVV#NativeView\", \"changeAudio\")\n+            Log.d(\"NVV#NativeView\", audio)\n             mediaPlayer?.selectTrack(audio)\n         }\n     }\n \n"
                },
                {
                    "date": 1657322934621,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -247,9 +247,9 @@\n     }\n \n     private fun changeAudio() {\n         if (mediaPlayer != null) {\n-            Log.d(\"NVV#NativeView\", audio)\n+            Log.d(\"NVV#NativeView\", \"$audio\")\n             mediaPlayer?.selectTrack(audio)\n         }\n     }\n \n"
                },
                {
                    "date": 1657323058529,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -275,9 +275,8 @@\n         var tamanio = mediaPlayer?.getTrackInfo()?.size!!\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mediaPlayer?.getTrackInfo()\n         \n-        var i = 0\n         val nameTable = mutableMapOf<String, Int>()\n         var result:List<String> = mediaPlayer?.getTrackInfo()\n         .filter { it ->\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n@@ -286,9 +285,9 @@\n             return@filter it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n         }\n         .toSet().toList()\n         \n-        var i = 0;\n+        var i = 0\n         while(i < tamanio) {\n             var it = result[i];\n             nameTable[it.getLanguage()] = i;\n \n"
                },
                {
                    "date": 1657323157890,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -276,9 +276,9 @@\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mediaPlayer?.getTrackInfo()\n         \n         val nameTable = mutableMapOf<String, Int>()\n-        var result:List<String> = mediaPlayer?.getTrackInfo()\n+        var result:List<MediaPlayer.TrackInfo> = mediaPlayer?.getTrackInfo()\n         .filter { it ->\n             Log.d(\"NVV#setOnInfoListener\", \" it \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n             Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n"
                },
                {
                    "date": 1657323568475,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -289,10 +289,10 @@\n         var i = 0\n         while(i < tamanio) {\n             var it = result[i];\n             nameTable[it.getLanguage()] = i;\n-\n         }\n+        Log.d(\"NVV#setOnInfoListener\", \" nameTable \")\n         arguments[\"languajes\"] = nameTable\n         methodChannel.invokeMethod(\"player#onPrepared\", arguments)\n     }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1657324154023,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -287,10 +287,11 @@\n         .toSet().toList()\n         \n         var i = 0\n         while(i < tamanio) {\n+            Log.d(\"NVV#setOnInfoListener\", \" $i \")\n             var it = result[i];\n-            nameTable[it.getLanguage()] = i;\n+            nameTable = nameTable + Pair(it.getLanguage(), i);\n         }\n         Log.d(\"NVV#setOnInfoListener\", \" nameTable \")\n         arguments[\"languajes\"] = nameTable\n         methodChannel.invokeMethod(\"player#onPrepared\", arguments)\n"
                },
                {
                    "date": 1657324226223,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -289,9 +289,9 @@\n         var i = 0\n         while(i < tamanio) {\n             Log.d(\"NVV#setOnInfoListener\", \" $i \")\n             var it = result[i];\n-            nameTable = nameTable + Pair(it.getLanguage(), i);\n+            nameTable = nameTable + Pair(it.getLanguage()!, i);\n         }\n         Log.d(\"NVV#setOnInfoListener\", \" nameTable \")\n         arguments[\"languajes\"] = nameTable\n         methodChannel.invokeMethod(\"player#onPrepared\", arguments)\n"
                },
                {
                    "date": 1657324232328,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -289,9 +289,9 @@\n         var i = 0\n         while(i < tamanio) {\n             Log.d(\"NVV#setOnInfoListener\", \" $i \")\n             var it = result[i];\n-            nameTable = nameTable + Pair(it.getLanguage()!, i);\n+            nameTable = nameTable + Pair(it.getLanguage()!!, i);\n         }\n         Log.d(\"NVV#setOnInfoListener\", \" nameTable \")\n         arguments[\"languajes\"] = nameTable\n         methodChannel.invokeMethod(\"player#onPrepared\", arguments)\n"
                },
                {
                    "date": 1657324453261,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -288,10 +288,10 @@\n         \n         var i = 0\n         while(i < tamanio) {\n             Log.d(\"NVV#setOnInfoListener\", \" $i \")\n-            var it = result[i];\n-            nameTable = nameTable + Pair(it.getLanguage()!!, i);\n+            var it = result[i]\n+            nameTable[it.getLanguage()!!] =  i\n         }\n         Log.d(\"NVV#setOnInfoListener\", \" nameTable \")\n         arguments[\"languajes\"] = nameTable\n         methodChannel.invokeMethod(\"player#onPrepared\", arguments)\n"
                },
                {
                    "date": 1657324590142,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -286,10 +286,11 @@\n         }\n         .toSet().toList()\n         \n         var i = 0\n-        while(i < tamanio) {\n-            Log.d(\"NVV#setOnInfoListener\", \" $i \")\n+        while(i < result.size) {\n+            i++\n+            Log.d(\"NVV#setOnInfoListener\", \" ${i} \")\n             var it = result[i]\n             nameTable[it.getLanguage()!!] =  i\n         }\n         Log.d(\"NVV#setOnInfoListener\", \" nameTable \")\n"
                },
                {
                    "date": 1657324671744,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -287,12 +287,12 @@\n         .toSet().toList()\n         \n         var i = 0\n         while(i < result.size) {\n-            i++\n             Log.d(\"NVV#setOnInfoListener\", \" ${i} \")\n             var it = result[i]\n             nameTable[it.getLanguage()!!] =  i\n+            i++\n         }\n         Log.d(\"NVV#setOnInfoListener\", \" nameTable \")\n         arguments[\"languajes\"] = nameTable\n         methodChannel.invokeMethod(\"player#onPrepared\", arguments)\n"
                },
                {
                    "date": 1657324897427,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -276,22 +276,16 @@\n         Log.d(\"NVV#setOnInfoListener\", \" Track Info $tamanio\")\n         var trackInfo = mediaPlayer?.getTrackInfo()\n         \n         val nameTable = mutableMapOf<String, Int>()\n-        var result:List<MediaPlayer.TrackInfo> = mediaPlayer?.getTrackInfo()\n-        .filter { it ->\n-            Log.d(\"NVV#setOnInfoListener\", \" it \")\n-            Log.d(\"NVV#setOnInfoListener\", \"${it.getTrackType()} \")\n-            Log.d(\"NVV#setOnInfoListener\", \"${it.getLanguage()} \")\n-            return@filter it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO\n-        }\n-        .toSet().toList()\n         \n         var i = 0\n-        while(i < result.size) {\n+        while(i < tamanio) {\n             Log.d(\"NVV#setOnInfoListener\", \" ${i} \")\n-            var it = result[i]\n-            nameTable[it.getLanguage()!!] =  i\n+            var it = mediaPlayer?.getTrackInfo()[i]\n+            if(it.getTrackType() == MediaPlayer.TrackInfo.MEDIA_TRACK_TYPE_AUDIO){\n+                nameTable[it.getLanguage()!!] =  i\n+            }\n             i++\n         }\n         Log.d(\"NVV#setOnInfoListener\", \" nameTable \")\n         arguments[\"languajes\"] = nameTable\n"
                },
                {
                    "date": 1657325201891,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -126,9 +126,9 @@\n                 result.success(null)\n             }\n             \"player#changeAudio\" -> {\n                 Log.d(\"NVV#NativeView\", \"player#changeAudio\")\n-                val audio: Int? = call.argument(\"audio\")\n+                this.audio = call.argument(\"audio\")\n                 if (audio != null) {\n                     changeAudio()\n                 }\n                 result.success(null)\n"
                },
                {
                    "date": 1657325350831,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -126,9 +126,9 @@\n                 result.success(null)\n             }\n             \"player#changeAudio\" -> {\n                 Log.d(\"NVV#NativeView\", \"player#changeAudio\")\n-                this.audio = call.argument(\"audio\")\n+                this.audio = call.argument(\"audio\")!!\n                 if (audio != null) {\n                     changeAudio()\n                 }\n                 result.success(null)\n"
                }
            ],
            "date": 1657236089634,
            "name": "Commit-0",
            "content": "package cl.ceisufro.native_video_view\n\nimport android.content.Context\nimport android.media.AudioManager\nimport android.media.MediaPlayer\nimport android.net.Uri\nimport android.os.Build\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.widget.VideoView\nimport androidx.constraintlayout.widget.ConstraintLayout\nimport androidx.lifecycle.DefaultLifecycleObserver\nimport androidx.lifecycle.LifecycleOwner\nimport io.flutter.plugin.common.BinaryMessenger\nimport io.flutter.plugin.common.MethodCall\nimport io.flutter.plugin.common.MethodChannel\nimport io.flutter.plugin.platform.PlatformView\nimport java.util.*\n\n\nclass NativeVideoViewController(\n    private val id: Int,\n    private val context: Context,\n    binaryMessenger: BinaryMessenger,\n    private val lifecycleProvider: LifecycleProvider\n) : DefaultLifecycleObserver,\n    MethodChannel.MethodCallHandler,\n    PlatformView,\n    MediaPlayer.OnPreparedListener,\n    MediaPlayer.OnErrorListener,\n    MediaPlayer.OnCompletionListener {\n    private val methodChannel: MethodChannel =\n        MethodChannel(binaryMessenger, \"native_video_view_$id\")\n    private val lifeCycleHashcode: Int\n    private val constraintLayout: ConstraintLayout\n    private var videoView: VideoView? = null\n    private var dataSource: String? = null\n    private var disposed: Boolean = false\n    private var requestAudioFocus: Boolean = true\n    private var volume: Double = 1.0\n    private var mute: Boolean = false\n    private var mediaPlayer: MediaPlayer? = null\n    private var playerState: PlayerState = PlayerState.NOT_INITIALIZED\n\n    init {\n        this.methodChannel.setMethodCallHandler(this)\n        this.lifeCycleHashcode = lifecycleProvider.getLifecycle().hashCode()\n        this.constraintLayout = LayoutInflater.from(context)\n            .inflate(R.layout.video_layout, null) as ConstraintLayout\n        lifecycleProvider.getLifecycle()!!.addObserver(this)\n    }\n\n    override fun getView(): View {\n        return constraintLayout\n    }\n\n    override fun dispose() {\n        if (disposed) return\n        disposed = true\n        methodChannel.setMethodCallHandler(null)\n        this.destroyVideoView()\n        lifecycleProvider.getLifecycle()!!.removeObserver(this)\n        Log.d(\"NVV#NativeView\", \"Disposed view $id\")\n    }\n\n    override fun onMethodCall(call: MethodCall, result: MethodChannel.Result) {\n        when (call.method) {\n            \"player#setVideoSource\" -> {\n                val videoPath: String? = call.argument(\"videoSource\")\n                val sourceType: String? = call.argument(\"sourceType\")\n                requestAudioFocus = call.argument(\"requestAudioFocus\") as Boolean? ?: true\n                if (videoPath != null) {\n                    if (sourceType.equals(\"VideoSourceType.asset\")\n                        || sourceType.equals(\"VideoSourceType.file\")\n                    ) {\n                        initVideo(\"file://$videoPath\")\n                    } else {\n                        initVideo(videoPath)\n                    }\n                }\n                result.success(null)\n            }\n            \"player#start\" -> {\n                startPlayback()\n                result.success(null)\n            }\n            \"player#pause\" -> {\n                pausePlayback()\n                result.success(null)\n            }\n            \"player#stop\" -> {\n                stopPlayback()\n                result.success(null)\n            }\n            \"player#currentPosition\" -> {\n                val arguments = HashMap<String, Any>()\n                arguments[\"currentPosition\"] = videoView?.currentPosition ?: 0\n                result.success(arguments)\n            }\n            \"player#isPlaying\" -> {\n                val arguments = HashMap<String, Any>()\n                arguments[\"isPlaying\"] = videoView?.isPlaying ?: false\n                result.success(arguments)\n            }\n            \"player#seekTo\" -> {\n                val position: Int? = call.argument(\"position\")\n                if (position != null)\n                    videoView?.seekTo(position)\n                result.success(null)\n            }\n            \"player#toggleSound\" -> {\n                mute = !mute\n                configureVolume()\n                result.success(null)\n            }\n            \"player#setVolume\" -> {\n                val volume: Double? = call.argument(\"volume\")\n                if (volume != null) {\n                    this.mute = false\n                    this.volume = volume\n                    configureVolume()\n                }\n                result.success(null)\n            }\n        }\n    }\n\n    override fun onCreate(owner: LifecycleOwner) {\n        super.onCreate(owner)\n        this.configurePlayer()\n    }\n\n    override fun onPause(owner: LifecycleOwner) {\n        super.onPause(owner)\n        if (disposed) return\n        this.pausePlayback()\n    }\n\n    override fun onStop(owner: LifecycleOwner) {\n        super.onStop(owner)\n        if (disposed) return\n        this.stopPlayback()\n    }\n\n    override fun onDestroy(owner: LifecycleOwner) {\n        super.onDestroy(owner)\n        if (disposed) return\n        this.destroyVideoView()\n    }\n\n    private fun configurePlayer() {\n        videoView = constraintLayout.findViewById(R.id.native_video_view)\n        videoView?.setOnPreparedListener(this)\n        videoView?.setOnErrorListener(this)\n        videoView?.setOnCompletionListener(this)\n        videoView?.setOnInfoListener(new MediaPlayer.OnInfoListener() {\n            Override fun onInfo(MediaPlayer mp, int what, int extra) {\n                var tamanio = mp.getTrackInfo().length\n                Log.d(\"NVV#setOnInfoListener\", \"Disposed view $tamanio\")\n                return true\n            }\n        });\n        videoView?.setZOrderOnTop(true)\n        if (requestAudioFocus && Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {\n            videoView?.setAudioFocusRequest(AudioManager.AUDIOFOCUS_GAIN_TRANSIENT_EXCLUSIVE)\n        }\n    }\n\n    private fun initVideo(dataSource: String?) {\n        this.configurePlayer()\n        if (dataSource != null) {\n            val videoUri = Uri.parse(dataSource)\n            this.videoView?.setVideoURI(videoUri)\n            this.dataSource = dataSource\n        }\n    }\n\n    private fun startPlayback() {\n        if (playerState != PlayerState.PLAYING && dataSource != null) {\n            if (playerState != PlayerState.NOT_INITIALIZED) {\n                videoView?.start()\n                playerState = PlayerState.PLAYING\n            } else {\n                playerState = PlayerState.PLAY_WHEN_READY\n                initVideo(dataSource)\n            }\n        }\n    }\n\n    private fun pausePlayback() {\n        val canPause = videoView?.canPause() ?: false\n        if (canPause) {\n            videoView?.pause()\n            playerState = PlayerState.PAUSED\n        }\n    }\n\n    private fun stopPlayback() {\n        videoView?.stopPlayback()\n        playerState = PlayerState.NOT_INITIALIZED\n    }\n\n    private fun destroyVideoView() {\n        videoView?.stopPlayback()\n        videoView?.setOnPreparedListener(null)\n        videoView?.setOnErrorListener(null)\n        videoView?.setOnCompletionListener(null)\n    }\n\n    override fun onCompletion(mediaPlayer: MediaPlayer?) {\n        this.mediaPlayer = null\n        stopPlayback()\n        methodChannel.invokeMethod(\"player#onCompletion\", null)\n    }\n\n    override fun onError(mediaPlayer: MediaPlayer?, what: Int, extra: Int): Boolean {\n        dataSource = null\n        this.mediaPlayer = null\n        playerState = PlayerState.NOT_INITIALIZED\n        val arguments = HashMap<String, Any>()\n        arguments[\"what\"] = what\n        arguments[\"extra\"] = extra\n        methodChannel.invokeMethod(\"player#onError\", arguments)\n        return true\n    }\n\n    private fun configureVolume() {\n        if (mediaPlayer != null) {\n            if (mute) {\n                mediaPlayer?.setVolume(0f, 0f)\n            } else {\n                mediaPlayer?.setVolume(volume.toFloat(), volume.toFloat())\n            }\n        }\n    }\n\n    override fun onPrepared(mediaPlayer: MediaPlayer?) {\n        this.mediaPlayer = mediaPlayer\n        configureVolume()\n        if (playerState == PlayerState.PLAY_WHEN_READY) {\n            this.startPlayback()\n        } else {\n            notifyPlayerPrepared(mediaPlayer)\n        }\n    }\n\n    private fun notifyPlayerPrepared(mediaPlayer: MediaPlayer?) {\n        val arguments = HashMap<String, Any>()\n        if (mediaPlayer != null) {\n            arguments[\"height\"] = mediaPlayer.videoHeight\n            arguments[\"width\"] = mediaPlayer.videoWidth\n            arguments[\"duration\"] = mediaPlayer.duration\n        }\n        playerState = PlayerState.PREPARED\n        methodChannel.invokeMethod(\"player#onPrepared\", arguments)\n    }\n}"
        }
    ]
}